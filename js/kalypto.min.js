(function(a,b){a.kalypto=function(i,j){var b=this,c=a(i),h={toggleClass:"toggle",checkedClass:"checked",hideInputs:true,copyInputClasses:true,dataLabel:c.data("label")||"",checkedEvent:"rc_checked",uncheckedEvent:"rc_unchecked",elBuiltEvent:"rc_elbuilt",customClasses:""},g,e=function(){c.after(function(){var a=b.settings.toggleClass;if(b.settings.copyInputClasses)a+=" "+c.attr("class");if(b.settings.customClasses.length)a+=" "+b.settings.customClasses;return c.is(":checked")?"<a href='#' class='"+a+" "+b.settings.checkedClass+"'>"+b.settings.dataLabel+"</a>":"<a href='#' class='"+a+"'>"+b.settings.dataLabel+"</a>"});b.settings.hideInputs&&c.hide();g=c.next();c.trigger(b.settings.elBuiltEvent)},d=function(f){var d=c.attr("type")==="radio"?a('input[name="'+c.attr("name")+'"]'):c,e=this;f.preventDefault();if(this.tagName!=="INPUT")d.each(function(g,f){var d=a(f);if(d.is(":checked")&&c.attr("type")==="checkbox"||c.attr("type")==="radio"&&d.not(":checked")&&e!==d.next().get(0)){d.prop("checked",false).trigger(b.settings.uncheckedEvent);d.next().removeClass(b.settings.checkedClass)}else{d.prop("checked",true).trigger(b.settings.checkedEvent);d.next().addClass(b.settings.checkedClass)}});else{c.attr("type")==="radio"&&a('input[name="'+c.attr("name")+'"]').each(function(){a(this).trigger(uncheckedEvent).next().removeClass(b.settings.checkedClass)});if(c.is(":checked"))c.trigger(b.settings.checkedEvent);else c.trigger(b.settings.uncheckedEvent);c.next().toggleClass(b.settings.checkedClass)}},f=function(){c.next().bind("click",d);c.bind("change",d)};b.settings={};b.init=function(){b.settings=a.extend({},h,j);e();f()};b.init()};a.fn.kalypto=function(c){return this.each(function(){if(b===a(this).data("kalypto")){var d=new a.kalypto(this,c);a(this).data("kalypto",d)}})}})(jQuery)
