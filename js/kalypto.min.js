(function(n,t){n.kalypto=function(t,i){var u=this,r=n(t),o={toggleClass:"toggle",checkedClass:"checked",hideInputs:!0,dataLabel:r.data("label")||""},f,s=function(){r.after(function(){return r.is(":checked")?"<a href='#' class='"+u.settings.toggleClass+" "+u.settings.checkedClass+"'>"+u.settings.dataLabel+"<\/a>":"<a href='#' class='"+u.settings.toggleClass+"'>"+u.settings.dataLabel+"<\/a>"}),u.settings.hideInputs&&r.hide(),f=r.next(),f.trigger("rc_elbuilt")},e=function(t){var i=r.attr("type")==="radio"?n("input[name="+r.attr("name")+"]"):r,f=this;t.preventDefault(),this.tagName!=="INPUT"?i.each(function(t,i){var e=n(i);e.is(":checked")&&r.attr("type")==="checkbox"||r.attr("type")==="radio"&&e.not(":checked")&&f!==e.next().get(0)?(e.prop("checked",!1).trigger("rc_unchecked"),e.next().removeClass(u.settings.checkedClass)):(e.prop("checked",!0).trigger("rc_checked"),e.next().addClass(u.settings.checkedClass))}):(r.attr("type")==="radio"&&n("input[name="+r.attr("name")+"]").each(function(){n(this).trigger("rc_unchecked").next().removeClass(u.settings.checkedClass)}),r.is(":checked")?r.trigger("rc_checked"):r.trigger("rc_unchecked"),r.next().toggleClass(u.settings.checkedClass))},h=function(){r.next().bind("click",e),r.bind("change",e)};u.settings={},u.init=function(){u.settings=n.extend({},o,i),s(),h()},u.init()},n.fn.kalypto=function(i){return this.each(function(){if(t===n(this).data("kalypto")){var r=new n.kalypto(this,i);n(this).data("kalypto",r)}})}})(jQuery)