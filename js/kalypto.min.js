!function(t){"use strict";function e(e){function s(){var s=t(this);if(void 0===s.data("kalypto")){var n=new t.kalypto(this,e);s.data("kalypto",n)}else console.log("Kalypto is already defined on this element.",s)}return this.each(s)}function s(e,s){function n(){g.settings=t.extend({},d,s),a(),i()}function a(){function t(){var t=g.settings.toggleClass;if(g.settings.copyInputClasses){var e=o.attr("class");e&&(t+=" "+e)}return g.settings.customClasses.length&&(t+=" "+g.settings.customClasses),o.is(":checked")?'<a href="#" class="'+t+" "+g.settings.checkedClass+'">'+g.settings.dataLabel+"</a>":'<a href="#" class="'+t+'">'+g.settings.dataLabel+"</a>"}o.next().hasClass(g.settings.toggleClass)||(o.after(t),g.settings.hideInputs&&o.hide(),l=o.next(),o.trigger(g.settings.elBuiltEvent))}function i(){o.next().bind("click",c),o.bind("change",c)}function c(e){function s(){"radio"===o.attr("type")&&a.each(n),o.is(":checked")?o.trigger(g.settings.checkedEvent):o.trigger(g.settings.uncheckedEvent),o.next().toggleClass(g.settings.checkedClass)}function n(e,s){var n=t(s);n.next().removeClass(g.settings.checkedClass),n.is(":checked")||g.lastClickedEl===n.next().get(0)||n.trigger(g.settings.uncheckedEvent)}var a="radio"===o.attr("type")?t('input[name="'+o.attr("name")+'"]'):o;"INPUT"!==this.tagName?(e.preventDefault(),g.lastClickedEl=this,o.trigger("click")):setTimeout(s,0)}var l,g=this,o=t(e),d={toggleClass:"toggle",checkedClass:"checked",hideInputs:!0,copyInputClasses:!0,dataLabel:o.data("label")||"",checkedEvent:"k_checked",uncheckedEvent:"k_unchecked",elBuiltEvent:"k_elbuilt",customClasses:""};g.settings={},g.init=n,g.init()}t.kalypto=s,t.fn.kalypto=e}(jQuery);