(function(a){a.replaceCheckbox=function(c,i){var h={toggleClass:"toggle",checkedClass:"checked"},b=this,d=a(c),f=function(){d.after(function(){return d.is(":checked")?"<a href='#' class='"+b.settings.toggleClass+" "+b.settings.checkedClass+"' ref='"+c.id+"'></a>":"<a href='#' class='"+b.settings.toggleClass+"' ref='"+c.id+"'></a>"}).hide()},e=function(e){e.preventDefault();var f=a(c).attr("ref"),d=a("#"+c.id);if(this.tagName!="INPUT")if(d.is(":checked"))d.prop("checked",false);else d.prop("checked",true);d.next().toggleClass(b.settings.checkedClass)},g=function(){var b=a("#"+c.id);d.next().bind("click",e);b.bind("change",e)};b.settings={};b.init=function(){b.settings=a.extend({},h,i);f();g()};b.init()};a.fn.replaceCheckbox=function(b){return this.each(function(){if(undefined==a(this).data("replaceCheckbox")){var c=new a.replaceCheckbox(this,b);a(this).data("replaceCheckbox",c)}})}})(jQuery)